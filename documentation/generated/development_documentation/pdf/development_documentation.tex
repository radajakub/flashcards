\documentclass[11pt]{article}
\usepackage[a4paper, total={18cm, 25cm}]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage[parfill]{parskip}
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\usepackage{graphicx}
\setkeys{Gin}{width=0.8\textwidth}
\graphicspath{ {../../../../docs/} }
\providecommand{\tightlist}{\setlength{\itemsep}{1pt}\setlength{\parskip}{1pt}}

\definecolor{codehighlight}{RGB}{203,75,22}
\let\oldtexttt\texttt
\renewcommand{\texttt}[1]{\oldtexttt{\textcolor{codehighlight}{#1}}}

\begin{document}
\begin{center}
  \textbf{\Huge Flashcards}\\
  \vspace{0.2cm}
  \rule{\textwidth}{0.5pt}
\end{center}
\tableofcontents
\begin{center}
  \rule{\textwidth}{0.5pt}
\end{center}
\clearpage
\hypertarget{pux159ehled}{%
\section{Přehled}\label{pux159ehled}}

Aplikace Flashcards má stejnou strukturu jako webová aplikace, hlavní
části jsou naprogramovány s použitím HTML, CSS a Javascriptu, ale na
rozdíl od ostatních webových aplikací se nevykresluje ve webovém
prohlížeči, ale v Electronu. Data se ukládají do oddělené databáze,
takže obě části aplikace běží nezávisle na sobě. O databázi se stará
Django Framework (Python) a běží to na localhostu. Klient a server
komunikují asynchronně skrz JSON requesty.

Webová stránka o této aplikaci:
\href{https://jakubrada.github.io/Flashcards/}{\emph{jakubrada.github.io/Flashcards}}

\hypertarget{pouux17eituxe9-knihovny}{%
\section{Použité knihovny}\label{pouux17eituxe9-knihovny}}

Aplikace používá mnoho různých knihoven na usnadnění používání některých
funkcí. Na serverové části je použito Django, které ovšem vyžaduje
nainstalovaný Python 3 (je doporučeno používat nejnovější verzi). Na
straně klienta je použit Electron, který renderuje všechny vizuální
aspekty místo prohlížeče, a ten pro své fungování potřebuje Node.js. Pro
hezčí vzhled je použit Bootstrap, skládá se ze tří souborů:
\texttt{.css}, které je upravené kvůli sladění některých barev s
celkovým vzhledem, \texttt{.js} a \texttt{popper.js}, které jsou potřeba
pro některé funkce. Pro dynamické měnění obsahu na stránce a komunikaci
se serverem je použita JQuery.

\begin{itemize}
\tightlist
\item
  Server

  \begin{itemize}
  \tightlist
  \item
    Python 3.7 nebo vyšší (\emph{www.python.org/downloads/windows})
  \item
    Django 2.1.5 (nainstalováno příkazem
    \texttt{pip\ install\ Django==2.1.5})
  \end{itemize}
\item
  Uživatelské rozhraní

  \begin{itemize}
  \tightlist
  \item
    Node.js (\emph{www.npmjs.com/get-npm})
  \item
    Electron (\emph{www.electronjs.org})
  \item
    Electron packager
  \item
    Bootstrap předkompilované soubory (stažené z
    \emph{www.getbootstrap.com/docs/4.3/getting-started/download/})

    \begin{itemize}
    \tightlist
    \item
      CSS, Javascript a Popper
    \end{itemize}
  \item
    JQuery (\emph{www.jquery.com})
  \end{itemize}
\end{itemize}

\hypertarget{konfigurace-serveru}{%
\section{Konfigurace serveru}\label{konfigurace-serveru}}

Jak bylo zmíněno dříve, o všechna ukládaná data se stará Django běžící
offline na localhostu na portu 8000. Všechny soubory týkající se serveru
se nachází ve složce \texttt{./server/}. Ve složce
\texttt{./server/server} je obecné nastavení serverové aplikace, ve
složce \texttt{./server/cards/} jsou pak soubory této konkrétní aplikace
s modely pro databázi a funkcemi na zpracovávání příchozích a odchozích
requestů.

\hypertarget{spuux161tux11bnuxed-serveru}{%
\subsection{Spuštění serveru}\label{spuux161tux11bnuxed-serveru}}

~~~~\texttt{python\ manage.py\ runserver\ localhost:8000}

\begin{itemize}
\tightlist
\item
  Spuštěn ze složky, ve které se nachází soubor \texttt{manage.py}
  (\texttt{./server/})
\end{itemize}

\hypertarget{zuxe1kladnuxed-nastavenuxed-serveru}{%
\subsection{Základní nastavení
serveru}\label{zuxe1kladnuxed-nastavenuxed-serveru}}

\begin{itemize}
\tightlist
\item
  Soubory v \texttt{./server/server}.
\item
  Zde se nastavují všechny nainstalované aplikace využívající tento
  server (v tomto případě pouze `cards'), typ použité databáze
  (`sqlite3') a které urls jsou použity pro příjímání requestů
  (\texttt{urls.py}).
\item
  Dále se zde nachází secret key pro případ publikování databáze na
  internet
\end{itemize}

\hypertarget{nastavenuxed-aplikace-cards}{%
\subsection{Nastavení aplikace
Cards}\label{nastavenuxed-aplikace-cards}}

Všechny soubory v \texttt{./server/cards/}. Pro tuto aplikaci jsou
potřebné pouze \texttt{models.py}, \texttt{urls.py} a \texttt{views.py}.
Ostatní jsou buď automaticky vytvořené, nebo prázdné.

Základní adresa k serveru

~~~~\texttt{localhost:8000/cards}

\hypertarget{modely}{%
\subsubsection{Modely}\label{modely}}

V tomto souboru se definují databázové objekty s jejich proměnnými a
vztahy s ostatními objekty. Každý model slouží jako šablona pro záznamy
do databáze a vytvoří si tabulku, kam tyto záznamy budou ukládány.
Jednotlivé řádky tabulky jsou propojovány s jinými tabulkami skrze
relationship fields.

\begin{itemize}
\tightlist
\item
  model \texttt{Tag(tag\_name,\ previous\_success\_rate,\ card\_count)}
  \ldots{} šablona pro okruhy

  \begin{itemize}
  \tightlist
  \item
    \texttt{tag\_name} \ldots{} CharField (max. 100 znaků); reprezentuje
    jméno daného okruhu
  \item
    \texttt{previous\_success\_rate} \ldots{} IntegerField; reprezentuje
    procentuální úspěšnost posledního testu daného okruhu
  \item
    \texttt{card\_count} \ldots{} IntegerField, volitelný (default=0);
    reprezentuje počet karet propojených k okruhu
  \item
    každá proměnná má svoje \texttt{get} a \texttt{set}, které vrací,
    nebo upravují jejich hodnoty
  \item
    \texttt{add\_card} a \texttt{remove\_card} metody slouží k navýšení,
    nebo snížení počtu karet v \texttt{card\_count} proměnné
  \end{itemize}
\item
  model \texttt{Card(card\_front,\ card\_back,\ tag\_count,\ tags)}
  \ldots{} šablona pro kartičky

  \begin{itemize}
  \tightlist
  \item
    \texttt{card\_front} \ldots{} CharField (max. 200 znaků);
    reprezentuje text zobrazený na přední straně kartičky
  \item
    \texttt{card\_back} \ldots{} CharField (max. 200 znaků);
    reprezentuje text zobrazený na zadní straně kartičky
  \item
    \texttt{tag\_count} \ldots{} IntegerField, volitelný (default=0);
    reprezentuje počet okruhů, ve kterých je daná kartička
  \item
    \texttt{tags} \ldots{} ManyToManyField; propojuje kartičky s
    libovolným počtem okruhů

    \begin{itemize}
    \tightlist
    \item
      příkazem \texttt{tags.add(tag)} je propojena kartička s okruhem,
      \texttt{tags.remove(tag)} zničí vazbu mezi nimi
    \item
      v každém okruhu se automaticky vytvoří proměnná \texttt{cards},
      kam se naopak ukládají všechny propojené kartičky. To znamená, že
      jejich spojení je oboustranné a lze k nim přistoupit z obou dvou.
    \end{itemize}
  \item
    každá proměnná má svoje \texttt{get} a \texttt{set}, které vrací,
    nebo upravují jejich hodnoty
  \item
    \texttt{add\_tag} a \texttt{remove\_tag} metody slouží ke zvýšení,
    nebo snížení počtu okruhů v \texttt{tag\_count} proměnné
  \end{itemize}
\end{itemize}

\hypertarget{views-a-urls}{%
\subsubsection{Views a Urls}\label{views-a-urls}}

Zde jsou definovány funkce, které spravují příchozí a odchozí JSON a
Http requesty z/do klienta. Všechna data posílaná requesty jsou v JSON
formátu pro lepší komunikaci s Javascriptem.

\begin{itemize}
\tightlist
\item
  request \texttt{cards}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/cards}
  \item
    vrací seznam JSON objektů, každý reprezentuje jednu kartičku z
    databáze
  \item
    JSON objekt neobsahuje všechny atributy kartičky -
    \texttt{\{id,\ card\_front,\ card\_back\}}
  \end{itemize}
\item
  request \texttt{tags}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/tags}
  \item
    vrací seznam JSON objektů, každý reprezentuje jeden okruh z databáze
  \item
    JSON objekt neobsahuj všechny atributy kartičky -
    \texttt{\{id,\ tag\_name\}}
  \end{itemize}
\item
  request \texttt{tag(tag\_id)}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/tags/tag\_id/}
  \item
    vrací JSON objekt se všemi informacemi o okruhu specifikovaným
    \texttt{tag\_id}
  \item
    vrací
    \texttt{\{id,\ tag\_name,\ success\_rate,\ card\_count,\ cards\}}
  \end{itemize}
\item
  request \texttt{card(card\_id)}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/cards/card\_id/}
  \item
    vrací JSON objekt se všemi informacemi o kartičce specifikované
    \texttt{card\_id}
  \item
    vrací \texttt{\{id,\ card\_front,\ card\_back,\ tag\_count,\ tags\}}
  \end{itemize}
\item
  request \texttt{add\_tag}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/add\_tag/}
  \item
    dostane JSON objekt od klienta -
    \texttt{\{type,\ id,\ tag\_name,\ success\_rate,\ card\_count,\ cards\}}

    \begin{itemize}
    \tightlist
    \item
      podle hodnoty \texttt{type} argumentu určí, která akce se provede
    \item
      vytvoří nový okruh (\texttt{type:\ new}),
    \item
      zaktualizuje jméno (\texttt{type:\ update}),
    \item
      zaktualizuje úspěšnost posledního testu (\texttt{type:\ test}),
    \item
      smaže okruh (\texttt{type:\ delete}).
    \end{itemize}
  \end{itemize}
\item
  request \texttt{add\_card}

  \begin{itemize}
  \tightlist
  \item
    musí být poslán na url \texttt{localhost:8000/cards/add\_card/}
  \item
    dostane JSON objekt od klienta -
    \texttt{\{type,\ id,\ card\_front,\ card\_back,\ tag\_count,\ tags\}}

    \begin{itemize}
    \tightlist
    \item
      podle hodnoty \texttt{type} argumentu určí, která akce se provede
    \item
      vytvoří novou kartičku (\texttt{type:\ new}),
    \item
      zaktualizuje jméno a automaticky všechny vazby mezi okruhy
      (\texttt{type:\ update}),
    \item
      smaže kartičku (\texttt{type:\ delete}).
    \end{itemize}
  \end{itemize}
\item
  request \texttt{import\_all}

  \begin{itemize}
  \item
    musí být poslán na url \texttt{localhost:8000/cards/import/}
  \item
    dostane dvojici seznamů JSON objektů, které obsahují okruhy i
    kartičky

    \texttt{{[}}

    ~~~~\texttt{{[}\{type:\ "new",\ card\_front,\ card\_back,\ tag\_count,\ tags\}{]},}

    ~~~~\texttt{{[}\{type:\ "new",\ tag\_name,\ success\_rate:\ 0,\ card\_count:\ 0\}{]}}

    \texttt{{]}}
  \item
    funkce sama určí, jestli je položka unikátní a přidá ji do databáze
    - automaticky spojí okruhy s kartičkami na základě indexů druhého
    listu (v každé \texttt{tags} proměnné je seznam indexů položek z
    druhého listu, které mají být propojeny)
  \item
    když položka již existuje, je přeskočena
  \end{itemize}
\end{itemize}

V souboru \texttt{urls.py} jsou definovány url adresy kam se posílají
jednotlivé requesty. Každý request má svojí adresu pro lepší organizaci.

\hypertarget{klient}{%
\section{Klient}\label{klient}}

Klient uživatelského rozhraní je vytvořeno stejným způsobem jako moderní
webové aplikace, ale místo renderování v prohlížeči jako Firefox nebo
Chrome se vykreslují v Electronu. Výhoda tohoto řešení je lepší
fungování offline a také vytváření vlastního okna pro aplikaci pro hezčí
vzhled, ale na druhou stranu je nezbytné nainstalovat Node.js, což dělá
klienta náročného na úložiště (kolem 100 MB minimálně). Zase ale mohou
být využity ostatní Node.js rozšíření, jako například file manager. Díky
tomu máme přístup k souborům na lokálním disku, čehož by nešlo dosáhnout
s běžnou webovou aplikací, protože Javascript žádnou takovou funkci
neposkytuje.

\hypertarget{sloux17eky-a-soubory}{%
\subsection{Složky a soubory}\label{sloux17eky-a-soubory}}

Všechny soubory jsou umístěny ve složce \texttt{./user\_interface/}.

\begin{itemize}
\tightlist
\item
  \texttt{/assets/} obsahuje obrázky a ikony.
\item
  \texttt{/lib/} obsahuje předkompilované Bootstrap soubory, Jquery a
  speciální CSS soubor, který otáčí kartičkou.
\item
  \texttt{/node\_modules/} obsahuje všechny Node.js package všetně
  Electronu; z těchto souborů se postaví konečný spustitelný soubor
\item
  \texttt{/src/} obsahuje Javascript a HTML soubory, které zajišťují
  funkcionalitu aplikace
\item
  Dále složka obsahuje soubory \texttt{package-lock.json} a
  \texttt{package.json}

  \begin{itemize}
  \tightlist
  \item
    První z těchto dvou popisuje přesný strom souborů stažených do
    node-modules složky
  \item
    Druhý slouží ke spouštění aplikace z terminálu a ke konečnému
    zabalení aplikace do spustitelné formu
  \end{itemize}
\end{itemize}

\hypertarget{struktura}{%
\subsection{Struktura}\label{struktura}}

Konkrétní obsahy jednotlivých souborů jsou popsány v následujících
kapitolách, tady je popsán pouze proces. Vykreslovací proces začíná v
\texttt{render.js} souboru, který je nastaven ke spuštění v
\texttt{package.json}.

Tento soubor vytvoří okno a načte do něj \texttt{mainWindow.html}, který
určuje rozložení a vzhled stránky. Aplikace je postavena jako
jednostránková aplikace, to znamená, že všechny části jsou na jedné
stránce, ale většina je skrytá a zobrazuje se jen ta momentálně potřebná
část. O viditelnost se stará Javascriptový soubor.

Vzhled HTML stránky je vylepšen Bootstrapem. Do \texttt{mainWindow.html}
jsou nalinkovány \texttt{.css} soubory, které jsou upravené oproti těm
oficiálním o některé barvy, \texttt{.js} soubory a \texttt{popper.js},
které jsou potřebné pro některé funkce Bootstrapu.

Do \texttt{mainWindow.htlm} je také nalinkován \texttt{main.js} soubor,
který tvoří jádro aplikace a obsahuje všechny hlavní funkce aplikace.
Například se stará o viditelnost obsahu, získává input od uživatele a
posílá a příjímá requesty z databáze. Všechny jeho funkce jsou popsány v
některé z dalších kapitol.

\hypertarget{instalace}{%
\subsubsection{Instalace}\label{instalace}}

Pro instalaci potřebujeme mít nainstalovaný \emph{npm}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Naklonujeme Github repozitář

  \begin{itemize}
  \tightlist
  \item
    \texttt{git\ clone\ https://github.com/JakubRada/Flashcards.git}
  \end{itemize}
\item
  Přesuneme se do příslušné složky

  \begin{itemize}
  \tightlist
  \item
    \texttt{cd\ Flashcards/user\_interface/}
  \end{itemize}
\item
  Nainstalujeme dependencies

  \begin{itemize}
  \tightlist
  \item
    \texttt{npm\ install}
  \end{itemize}
\item
  Až vše doběhne, máme nainstalováno vše potřebné pro klienta
\end{enumerate}

\hypertarget{spuux161tux11bnuxed-klienta-z-terminuxe1lu}{%
\subsubsection{Spuštění klienta z
terminálu}\label{spuux161tux11bnuxed-klienta-z-terminuxe1lu}}

~~~~\texttt{npm\ start}

\begin{itemize}
\tightlist
\item
  spuštěno ve složce \texttt{user\_interface}
\end{itemize}

\hypertarget{zabalenuxed-aplikace-do-package}{%
\subsubsection{Zabalení aplikace do
package}\label{zabalenuxed-aplikace-do-package}}

Pro zabalení aplikace do složky obsahující spustitelný soubor a vše
potřebné pro spuštění souboru bez instalace spustit

~~~~\texttt{npm\ run} + jedna z možností
\texttt{package-win/package-linux/pakcage-mac}

Tento příkaz je definován v \texttt{package.json} v atributu
\texttt{"scripts":\{\}} a zabalí aplikaci do složky
\texttt{/user\_interface/release-builds/}. Použije k tomu
\texttt{electron-packager} a výsledný package funguje bez instalování
čehokoliv. \textbf{To platí jen pro vizuální stránku aplikace, server
potřebuje mít nainstalované Django a Python a musí být spuštěn z
příkazové řádky (viz Spuštění serveru)}

\hypertarget{render.js}{%
\subsection{render.js}\label{render.js}}

Jednoduchý soubor, popisují se jenom vlastnosti okna a který HTML soubor
se má použít.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Na začátku souboru se musí zahrnout všechny Node.js moduly, které
  budou použity, včetně Electronu a je potřeba příradit mu proměnné
  \texttt{app} a \texttt{BrowserWindow}.
\item
  Vše ostatní by mělo být v bloku
  \texttt{app.on("ready",\ function()\ \{\ code\ \});}, který před
  spuštěním počká až se dokončí načtení modulů a inicializaci okna.
\item
  Vytvořit instanci classy \texttt{BrowserWindow}, kde se nadefinují
  vlastnosti okna.

  \begin{itemize}
  \tightlist
  \item
    Výška, šířka okna (i s minimálními hodnotami, aby byl vidět nějaký
    obsah), kde na obrazovce se má okno zobrazit a nadpis. Je možné
    přidat ještě ikonku, ale to udělá Electron-packager.
  \end{itemize}
\item
  Metodou \texttt{.setMenu} nastavíme lištu menu (v této aplikaci je
  defaultně vypnutá).
\item
  Načtení HTML kódu ze souboru (\texttt{mainWindow.html} v tomto
  případě).
\item
  Na konci je pojistka, aby se vypnula aplikace po zavření všech oken.
\end{enumerate}

Více informací o Electron API a dalších možnostech nastavení je na
\emph{www.electronjs.org/docs}.

\hypertarget{mainwindow.html}{%
\subsection{mainWindow.html}\label{mainwindow.html}}

V hlavičce tohoto souboru je mnoho \texttt{link} a \texttt{script} tagů,
které načítají javascriptová a css rozšíření. V zakomentovaných řádcích
jsou online CDN odkazy pro případ, že by ty stažené soubory přestaly
fungovat (např. kvůli novější verzi). Dále jsou zde dva speciální
\texttt{script} tagy kolem ostatních, aby je Electron správně načetl při
renderování.

Skoro všechny tagy inheritují vlastnosti z \texttt{bootstrap.css} a
obsahují spoustu \texttt{class} atributů. Ty které jsou nějakým způsobem
ovládány Javascriptem jsou také pojmenovány pomocí unikátního
\texttt{id} atributu.

Většina obsahu se generuje dynamicky, takže HTML samo o sobě obsahuje
jen přípravená místa pro naplnění daty z databáze.

Více detailních informací o \texttt{class} atributech je v dokumentaci
Bootstrapu
(\emph{www.getbootstrap.com/docs/4.2/getting-started/introduction/}).

\hypertarget{main.js}{%
\subsection{main.js}\label{main.js}}

Tento soubor obsahuje kombinaci JQuery API a čistého Javascriptu.
Všechny příkazy z JQuery jsou označeny \texttt{\$} a zajišťují lepší
import dat do HTML souboru a také usnadňují komunikaci se serverem.

Po načtení \texttt{mainWindow.html} do Electronu se spustí blok
\texttt{\$(document).ready(function()\ \{\ code\ \});}. Nejprve zavolá
funkci \texttt{reset()}, která skryje vše kromě titulní strany. Poté
čeká na \textbf{click events} na tlačítkách v liště menu a spustí
příslušnou funkci, když \textbf{event} nastane.

\hypertarget{home-button}{%
\subsubsection{Home button}\label{home-button}}

Spustí pouze funkci \texttt{reset()} a zobrazí titulní stranu.

\hypertarget{vytvuxe1ux159enuxed-karet}{%
\subsubsection{Vytváření karet}\label{vytvuxe1ux159enuxed-karet}}

Funkce, která se spustí při kliknutí na tlačítko s
\texttt{id=create\_card\_button} a které se nachází v navigační liště.
Po kliknutí se spustí funkce \texttt{create\_card()}.

\begin{itemize}
\tightlist
\item
  \texttt{create\_card()} - nemá žádné parametry; je pouze organizační

  \begin{itemize}
  \tightlist
  \item
    Pomocí JQuery vyprázdní všechna pole a zobrazí container, který
    obsahuje HTML definici pro vytváření karet.
  \item
    Pomocí \texttt{load\_information("tags")} pošle request, načte
    všechny okruhy z databáze a pro každý vytvoří prázdný checkbox.
  \item
    Čeká na kliknutí na Cancel (\texttt{id=cancel}) nebo na Save
    (\texttt{id=save\_new\_card}).

    \begin{itemize}
    \tightlist
    \item
      Cancel zavolá funkci \texttt{reset()}.
    \end{itemize}
  \item
    Po kliknutí na Save se uloží hodnoty z polí do proměnných.
  \item
    Zkontroluje se, jestli karta se stejnými hodnotami již neexistuje v
    databázi.

    \begin{itemize}
    \tightlist
    \item
      Pomocí \texttt{load\_information("cards")} se postupně načtou
      všechny karty v databázi a porovnají se skrz funkci
      \texttt{card\_is\_unique(new\_front,\ new\_back,\ all\_cards)}.
    \end{itemize}
  \item
    Když je unikátní, uloží se, které okruhy byly vybrány a vytvoří se
    JSON objekt, jenž je následně poslán do databáze
    \texttt{post\_information(suffix,\ create\_card\_object(viz\ Ostatní\ funkce))}.
  \item
    Poté se funkce zavolá znovu a uživatel může vytvořit další kartu.
  \item
    Když není unikátní, vyprázdní se všechna pole a vyskočí upozornění.
  \end{itemize}
\item
  \texttt{card\_is\_unique(new\_front,\ new\_back,\ all\_cards)} - jako
  argumenty má nové hodnoty pro předek a zadek karty a seznam karet k
  porovnání

  \begin{itemize}
  \tightlist
  \item
    Pokud se rovnají přední i zadní strany u alespoň jedné karty ze
    seznamu, vrátí funkce \texttt{false}, jinak vrátí \texttt{true}.
  \end{itemize}
\end{itemize}

\hypertarget{vytvuxe1ux159enuxed-okruhux16f}{%
\subsubsection{Vytváření okruhů}\label{vytvuxe1ux159enuxed-okruhux16f}}

Funkce, která se spustí při kliknutí na tlačítko s
\texttt{id=create\_card\_button} a které se nachází v navigační liště.
Po kliknutí se spustí funkce \texttt{create\_tag()}.

\begin{itemize}
\tightlist
\item
  \texttt{create\_tag()} - nemá parametry; je pouze organizační

  \begin{itemize}
  \tightlist
  \item
    Pomocí JQuery vyprázdní pole na vstup a zobrazí container s HTML
    obsahem pro vytváření okruhů.
  \item
    Čeká na kliknutí na Cancel (\texttt{id=cancel}) nebo na Save
    (\texttt{id=save\_new\_card}).

    \begin{itemize}
    \tightlist
    \item
      Cancel zavolá funkci \texttt{reset()}.
    \end{itemize}
  \item
    Po kliknutí na Save se uloží hodnoty z pole do proměnné.
  \item
    Zkontroluje se, jestli okruh již neexistuje v databázi.

    \begin{itemize}
    \tightlist
    \item
      Pomocí \texttt{load\_information("tags")} se načtou jména všech
      okruhů a porovnají se
    \end{itemize}
  \item
    Když je unikátní, vytvoří se, funkce se zavolá znovu a uživatel může
    přidat další okruh.
  \item
    Když není unikátní, vyprázdní se pole a vyskočí upozornění.
  \end{itemize}
\end{itemize}

\hypertarget{editace-karet}{%
\subsubsection{Editace karet}\label{editace-karet}}

Funkce, která se spustí při kliknutí na tlačítko s
\texttt{id=edit\_card\_button} a které se nachází v navigační liště.
Vypíše všechny karty do tabulky a umožní jejich úpravu. Jako první se
volá funkce \texttt{list\_cards\_to\_edit()}.

\begin{itemize}
\tightlist
\item
  \texttt{list\_cards\_to\_edit()} - nemá parametry; je pouze
  organizační

  \begin{itemize}
  \tightlist
  \item
    Vyprázdní se předchozí tabulka, takže zůstanou jen nadpisy
    sloupečků, a zobrazí se container s tabulkou.
  \item
    Načtou se názvy a id všech karet v databázi do seznamu, na který je
    pak zavolána funkce \texttt{sort\_card\_list(card\_list)}, která
    list seřadí.
  \item
    Pro každé id se vytvoří řádek v tabulce, zbytek ale zůstane prázdný.
  \item
    Pomocí \texttt{load\_information()} se načtou všechny informace o
    jednotlivých kartách a přidají se do odpovídajících řádků podle id.
  \item
    V každém řádku se také vytvoří tlačítko Edit a tlačítko Delete.
  \item
    Po stisknutí Delete se zeptá na potvrzení a pomocí
    \texttt{post\_information("add\_card/",\ create\_card\_object("delete",\ ...))}
    se pošle request do databáze, kde se kartička smaže. Znovu se zavolá
    \texttt{list\_cards\_to\_edit()}, aby se obnovil seznam karet.
  \item
    Po stisknutí Edit se zavolá \texttt{edit\_card(card\_info)}
  \end{itemize}
\item
  \texttt{edit\_card(card)} - jako parametr bere objekt JSON, který
  obsahuje informace o kartě

  \begin{itemize}
  \tightlist
  \item
    Funkce funguje dost podobně jako \texttt{create\_card()}, ale pole a
    checkboxy se vyplní podle aktuálních informací o kartě.
  \item
    Po kliknutí na Save se opět pošle request do databáze pomocí
    \texttt{post\_information("add\_card/",\ create\_card\_object("update",\ ...))}.
  \item
    Po uložení nebo kliknutím na Cancel se zavolá funkce
    \texttt{list\_cards\_to\_edit()}.
  \end{itemize}
\item
  \texttt{sort\_card\_list(card\_list)} - využívá předdefinovanou funkci
  \texttt{sort()} a porovnává přední strany karet.
\end{itemize}

\hypertarget{editace-okruhux16f}{%
\subsubsection{Editace okruhů}\label{editace-okruhux16f}}

Funkce, která se spustí při kliknutí na tlačítko s
\texttt{id=edit\_card\_button} a které se nachází v navigační liště.
Vypíše všechny karty do tabulky a umožní jejich úpravu. Jako první se
volá funkce \texttt{list\_cards\_to\_edit()}.

\begin{itemize}
\tightlist
\item
  \texttt{list\_tags\_to\_edit()} - nemá parametry; je pouze organizační

  \begin{itemize}
  \tightlist
  \item
    Vyprázdní se předchozí tabulka, takže zůstanou jen nadpisy
    sloupečků, a zobrazí se container s tabulkou.
  \item
    Načtou se názvy a id všech okruhů v databázi do seznamu, na který je
    pak zavolána funkce \texttt{sort\_tag\_list(tag\_list)}, která list
    seřadí.
  \item
    Pro každé id se vytvoří řádek v tabulce, zbytek ale zůstane prázdný.
  \item
    Pomocí \texttt{load\_information()} se načtou všechny informace o
    jednotlivých okruzích a přidají se do odpovídajících řádků podle id.
  \item
    V každém řádku se také vytvoří tlačítko Edit a tlačítko Delete.
  \item
    Po stisknutí Delete se zeptá na potvrzení a pomocí
    \texttt{post\_information("add\_tag/",\ create\_tag\_object("delete",\ ...))}
    se pošle request do databáze, kde se okruh smaže. Znovu se zavolá
    \texttt{list\_tags\_to\_edit()}, aby se obnovil seznam okruhů.
  \item
    Po stisknutí Edit se zavolá \texttt{edit\_tag(tag\_info)}
  \end{itemize}
\item
  \texttt{edit\_tag(tag)} - jako parametr bere objekt JSON, který
  obsahuje informace o okruhu

  \begin{itemize}
  \tightlist
  \item
    Funkce funguje dost podobně jako \texttt{create\_tag()}, ale pole se
    vyplní podle aktuálních informací o okruhu.
  \item
    Po kliknutí na Save se opět pošle request do databáze pomocí
    \texttt{post\_information("add\_tag/",\ create\_tag\_object("update",\ ...))}.
  \item
    Po uložení nebo kliknutím na Cancel se zavolá funkce
    \texttt{list\_tags\_to\_edit()}.
  \end{itemize}
\item
  \texttt{sort\_tag\_list(tag\_list)} - využívá předdefinovanou funkci
  \texttt{sort()} a porovnává názvy okruhů.
\end{itemize}

\hypertarget{testy}{%
\subsubsection{Testy}\label{testy}}

Funkce, která spravuje výběr okruhu k prozkoušení a typ testu, poté
zavolá odpovídající funkci. Spustí se při kliknutí na tlačítko s
\texttt{id=test\_button}, které se nachází v navigační liště.

\begin{itemize}
\tightlist
\item
  \texttt{test\_main()} - nemá parametry; slouží jen k organizaci

  \begin{itemize}
  \tightlist
  \item
    Vyprázdní se předchozí obsah a zobrazí se container pro výběr
    okruhu.
  \item
    Načtou se všechny okruhy z databáze a pro každý se vytvoří tlačítko.
  \item
    Po kliknutí na vybrané tlačítko se zavolá
    \texttt{test\_type(event.data{[}0{]},\ event.data{[}1{]})}
  \end{itemize}
\item
  \texttt{test\_type(tag\_id,\ tag\_name)} - jako parametry bere id a
  název okruhu

  \begin{itemize}
  \tightlist
  \item
    Zobrazí se container pro výběr typu testu se třemi tlačítky, jedním
    pro každý z typů testu.
  \item
    Po kliknutí na dané tlačítko se zavolá funkce
    \texttt{load\_cards("browse"/"choices"/"write",\ tag\_id,\ is\_reversed())}.
  \end{itemize}
\item
  \texttt{is\_reversed()} - nebere žádné parametry;

  \begin{itemize}
  \tightlist
  \item
    Zjistí, jestli je přepínač ``směru'' kartiček sepnutý.
  \item
    Směr znamená, jestli se bude jako otázka brát přední, nebo zadní
    strana kartičky a odpověď bude ta druhá.
  \item
    Vrací \texttt{true} nebo \texttt{false}.
  \end{itemize}
\item
  \texttt{load\_cards(typem,\ tag\_id,\ is\_reversed)} - jako parametry
  bere typ testu, id okruhu a směr kladení otázek

  \begin{itemize}
  \tightlist
  \item
    Načte z databáze všechny kartičky, které jsou v okruhu určeným
    parametrem \texttt{tag\_id}, do seznamu.

    \begin{itemize}
    \tightlist
    \item
      Pokud je parametr \texttt{is\_reversed\ true}, přední a zadní
      strany se automaticky prohodí.
    \end{itemize}
  \item
    Po načtení všech karet se zavolá funkce
    \texttt{group\_similar\_cards(all\_cards)}, která vyfiltruje seznam.
  \item
    Podle hodnoty parametru \texttt{type} se zavolá odpovídající funkce
    \texttt{browse}/\texttt{choices}/\texttt{write}, která provede
    vlastní test.
  \end{itemize}
\item
  \texttt{group\_similar\_cards(all\_cards)} - jako parametr bere seznam
  kartiček, který má vyfiltrovat

  \begin{itemize}
  \tightlist
  \item
    Projde seznam kartiček a na každou zavolá funkci
    \texttt{contains\_similar\_front(return\_card\_list,\ card.card\_front)}.
    (V \texttt{return\_card\_list} jsou kartičky, které již byly
    zkontrolovány, nebo spojeny)
  \item
    Pokud vrátí \texttt{true}, kartičky se spojí do jedné, aby nebyl
    problém při hledání správné odpovědi při kartičkách, které mají
    stejnou přední stranu, ale jiné zadní strany (synonyma).
  \end{itemize}
\item
  \texttt{contains\_similar\_front(card\_list,\ card\_front)} - jako
  parametry bere seznam kartiček a přední stranu porovnávané kartičky

  \begin{itemize}
  \tightlist
  \item
    Projde všechny kartičky v seznamu a porovná jejich přední strany s
    přední stranou zadanou v parametrech.
  \item
    Vrátí \texttt{{[}true,\ index{]}} nebo \texttt{{[}false,\ null{]}}.
  \end{itemize}
\end{itemize}

\hypertarget{test-typu-browse}{%
\paragraph{Test typu ``Browse''}\label{test-typu-browse}}

\begin{itemize}
\tightlist
\item
  \texttt{browse(all\_cards,\ tag\_id)} - jako parametry bere seznam
  kartiček a id okruhu

  \begin{itemize}
  \tightlist
  \item
    Funkce, která se stará o typ testu, kde se prochází všechny kartičky
    a otáčí se.
  \item
    Na začátku se zavolá funkce
    \texttt{update\_browse\_progress\_bar(current\_index,\ count)} a
    \texttt{change\_flipcard(all\_cards{[}current\_index{]}.card\_front,\ all\_cards{[}current\_index{]}.card\_back)},
    které nastaví kartičku na první v seznamu a vynuluje ukazatel
    nahoře.
  \item
    Podle počtu kartiček se rozhodne, jestli budou vidět tlačítka NEXT a
    PREVIOUS.
  \item
    Po kliknutí na tlačítka s \texttt{id=browse\_next} resp.
    \texttt{id=browse\_previous}, znovu se zavolají funkce na
    aktualizování horního ukazatele a změnu hodnot na kartičce. Dále se
    znovu rozhodne o viditelnosti NEXT a PREVIOUS pomocí funkce
    \texttt{show\_next\_previous(current\_index,\ count)}.
  \item
    Kliknutím na kartičku se otočí a zobrazí druhou hodnotu.
  \item
    Tlačítko \texttt{id=browse\_back} znovu zavolá funkci
    \texttt{test\_type()}.
  \end{itemize}
\item
  \texttt{update\_browse\_progress\_bar(current,\ max)} - jako parametr
  bere číslo aktuální kartičky a celkový počet

  \begin{itemize}
  \tightlist
  \item
    Upravuje Bootstrapový objekt (ukazuje kolikátá kartička je právě
    prohlížena), aby odpovídal aktuálním hodnotám
  \end{itemize}
\item
  \texttt{change\_flipcard(front,\ back)} - jako parametry bere nové
  hodnoty na přední a zadní stranu

  \begin{itemize}
  \tightlist
  \item
    Pokud byla kartička ponechána otočená, nejprve se otočí zpátky a až
    potom se změní hodnoty.
  \item
    Poté dojde ke změně hodnot v HTML stránce.
  \end{itemize}
\item
  \texttt{show\_next\_previous(current\_index,\ max)} - jako parametry
  bere číslo kartičky a celkový počet

  \begin{itemize}
  \tightlist
  \item
    Zobrazuje a schovává tlačítka NEXT a PREVIOUS, aby nebyly vidět při
    první resp. poslední kartičce.
  \end{itemize}
\end{itemize}

\hypertarget{test-typu-choices}{%
\paragraph{Test typu ``Choices''}\label{test-typu-choices}}

\begin{itemize}
\tightlist
\item
  \texttt{choices(count,\ correct,\ wrong,\ answers,\ current\_word\_index,\ all\_cards,\ tag\_info)}

  \begin{itemize}
  \tightlist
  \item
    Jako parametry bere, celkový počet karet, kolik jich už bylo
    správně, kolik špatně, číslo momentální kartičky, seznam karet a
    informace o okruhu - pro další kartičku se zavolá znovu tato funkce,
    akorát s jinými hodnotami
  \item
    Aktualizují se ukazatele správných/špatných odpovědí a zbývajících
    odpovědí pomocí funkce
    \texttt{update\_write\_choices\_progress\_bar("choices",\ correct,\ wrong,\ count)}.
  \item
    Zobrazí se container se tímto typem testu, nahoře je přední strana
    kartičky, pod tím jsou čtyři možnosti odpovědí.
  \item
    Funkce
    \texttt{get\_random\_choices(count,\ current\_word\_index,\ all\_cards)}
    vybere indexy náhodných kartiček, které budou sloužit jako špatné
    odpovědi.
  \item
    Funkce \texttt{get\_random\_index()} náhodně seřadí čísla od 0 do 3,
    což způsobí náhodné zamíchání možností mezi čtyři políčka.
  \item
    Pomocí hodnot z těchto dvou funkcí se vyplní možnosti náhodně
    zvolenými zadními stranami kartiček.
  \item
    Funkce \texttt{activate\_one()} označí první možnost jako vybranou.
  \item
    Funkce \texttt{choose()} sdružuje označování možností jako vybrané
    po kliknutí.
  \item
    Kliknutím na tlačítko s \texttt{id="choices\_check\_answer} se
    porovná vybraná možnost se správnou.

    \begin{itemize}
    \tightlist
    \item
      Zvýší se počet \texttt{correct} případně \texttt{wrong}, číslo
      kartičky a uloží se odpověď.
    \item
      Zobrazí se container, kde se ukáže správnost odpovědi a správná
      odpověď.
    \end{itemize}
  \item
    Pokud je kartička poslední, zavolá se
    \texttt{summary(tag\_info,\ correct,\ count,\ answers)}, jinak se
    zavolá funkce znovu se změněnými hodnotami
  \end{itemize}
\item
  \texttt{get\_random\_choices(count,\ current\_word\_index,\ all\_cards)}

  \begin{itemize}
  \tightlist
  \item
    Jako parametry bere počet kartiček, číslo aktuální kartičky a seznam
    všech kartiček.
  \item
    Zavolá funkci \texttt{count\_same\_backs(all\_cards)} - zredukuje
    počet karet o ty, které mají stejnou zadní stranu - aby nebylo více
    stejných možností.
  \item
    Vrátí seznam max. čtyř indexů ze seznamu karet (když je seznam karet
    kratší než 4, je jich méně).
  \end{itemize}
\item
  \texttt{count\_same\_backs(all\_cards)} - jako parametr bere seznam
  karet

  \begin{itemize}
  \tightlist
  \item
    Vrátí číslo, které reprezentuje počet unikátních zadních stran v
    seznamu karet.
  \end{itemize}
\item
  \texttt{get\_random\_index()} - nemá parametry

  \begin{itemize}
  \tightlist
  \item
    Zamíchá čísla od 0 do 3 v náhodném pořadí - podle toho se přiřazují
    možnosti.
  \end{itemize}
\item
  \texttt{activate\_one()} - nemá parametry

  \begin{itemize}
  \tightlist
  \item
    Odoznačí minulý výběr a označí vždy první možnost jako vybranou.
  \end{itemize}
\item
  \texttt{choose()} - nemá parametry

  \begin{itemize}
  \tightlist
  \item
    Sdružuje \textbf{click eventy}, které označují vybranou možnost
    pomocí \texttt{one\_choice(x)}.
  \end{itemize}
\item
  \texttt{one\_choice(index)} - nemá parametry

  \begin{itemize}
  \tightlist
  \item
    Odoznačí minulou možnost a označí tu která má v id \texttt{index}.
  \end{itemize}
\item
  \texttt{update\_write\_choices\_progress\_bar(type,\ correct,\ wrong,\ max)}
  - jako parametry bere typ testu, počet správných a špatných odpovědí a
  celkový počet otázek.

  \begin{itemize}
  \tightlist
  \item
    Aktualizuje ukazatele zadaných hodnot.
  \end{itemize}
\end{itemize}

\hypertarget{test-typu-write}{%
\paragraph{Test typu ``Write''}\label{test-typu-write}}

\begin{itemize}
\tightlist
\item
  \texttt{write(count,\ correct,\ wrong,\ answers,\ current\_word\_index,\ all\_cards,\ tag\_info)}

  \begin{itemize}
  \tightlist
  \item
    Jako parametry bere, celkový počet karet, kolik jich už bylo
    správně, kolik špatně, číslo momentální kartičky, seznam karet a
    informace o okruhu - pro další kartičku se zavolá znovu tato funkce,
    akorát s jinými hodnotami
  \item
    Aktualizují se ukazatele správných/špatných odpovědí a zbývajících
    odpovědí pomocí funkce
    \texttt{update\_write\_choices\_progress\_bar("write",\ correct,\ wrong,\ count)}.
  \item
    Po kliknutí na tlačítko s \texttt{id=check\_write\_answer} se uloží
    hodnota zapsaná do textového pole.
  \item
    Pomocí funkce
    \texttt{check\_magic(raw\_answer,\ current\_card.card\_back.toLowerCase())}
    se zkontroluje výsledek.

    \begin{itemize}
    \tightlist
    \item
      Zvýší se počet správných/špatných odpovědí, číslo kartičky a uloží
      se odpověď.
    \item
      Zobrazí se container, kde se ukáže správnost odpovědi a správná
      odpověď.
    \end{itemize}
  \item
    Pokud je kartička poslední, zavolá se
    \texttt{summary(tag\_info,\ correct,\ count,\ answers)}, jinak se
    zavolá funkce znovu se změněnými hodnotami
  \end{itemize}
\item
  \texttt{update\_write\_choices\_progress\_bar(type,\ correct,\ wrong,\ max)}
  - jako parametry bere typ testu, počet správných a špatných odpovědí a
  celkový počet otázek.

  \begin{itemize}
  \tightlist
  \item
    Aktualizuje ukazatele zadaných hodnot.
  \end{itemize}
\item
  \texttt{check\_magic(raw\_answer,\ correct\_answer)} - jako argumenty
  bere zadanou odpověď v malém fontu a správnou odpověď

  \begin{itemize}
  \tightlist
  \item
    Správná odpověď se rozdělí podle čárek, v případě, že by bylo více
    možností (synonyma)
  \item
    Pro každou možnou odpověď se vypočítá Levenshteinova vzdálenost
    pomocí funkce \texttt{levenshtein\_distance(raw\_input,\ answer)}.
  \item
    Když funkce vrátí \texttt{true}, vyhodnotí se jako správná, jinak se
    vyhodnotí jako špatná.
  \end{itemize}
\item
  \texttt{levenshtein\_distance(string\_1,\ string\_2)} - jako parametr
  bere 2 stringy

  \begin{itemize}
  \tightlist
  \item
    Spočítá počet operací (přidání, vynechání, záměna), které je potřeba
    provést, aby se \texttt{string\_1} změnil na\texttt{string\_2}
  \item
    Když je (počet chyb)/(délka slova) \textless{} 0.3, vyhodnotí se
    jako správná odpověď (tolerance překlepů).
  \item
    Zvýrazní a doplní chyby ve \texttt{string\_1}.
  \item
    Vrací \texttt{{[}true/false,\ string\ se\ zvýrazněnými\ chybami{]}}
  \end{itemize}
\end{itemize}

\hypertarget{sumarizace-testu}{%
\paragraph{Sumarizace testu}\label{sumarizace-testu}}

\begin{itemize}
\tightlist
\item
  \texttt{summary(tag\_info,\ correct,\ count,\ answers)} - jako
  argumenty bere informace o okruhu, počet správných odpovědí, počet
  otázek, seznam všech odpovědí

  \begin{itemize}
  \tightlist
  \item
    Zobrazí container se zhodnocením testu.
  \item
    Vypočítá procentuální úspěšnost a zlepšení/zhoršení oproti minulému
    testu stejného okruhu.
  \item
    Nabízí seznam všech otázek se zadanými a správnými odpověďmi.
  \item
    Pomocí
    \texttt{post\_information("add\_tag/",\ create\_tag\_object("test,\ ...))}
    uloží výsledek testu do databáze.
  \item
    Zavolá funkci \texttt{test\_type()} a uživatel může začít nový test.
  \end{itemize}
\end{itemize}

\hypertarget{export}{%
\subsubsection{Export}\label{export}}

Funkce, která se spustí po kliknutí na tlačítko s
\texttt{id=export\_button} a které se nachází v navigační liště. Vypíše
všechny kartičky a okruhy do \texttt{.csv} souboru včetně jejich
spojení.

\begin{itemize}
\tightlist
\item
  \texttt{export\_data()} - nemá žádné parametry

  \begin{itemize}
  \tightlist
  \item
    Zobrazí container s polem, kam se vyplní název souboru bez koncovky.
  \item
    Po stisknutí tlačítka s \texttt{id=confirm\_export} se uloží obsah
    pole a zkontroluje se formát názvu (nesmí obsahovat speciální znaky
    a mezery).
  \item
    Pokud splní všechny podmínky, zavolá se funkce
    \texttt{prepare\_data(filename)}.
  \end{itemize}
\item
  \texttt{contains\_special\_symbols(string)} - jako parametr bere
  jakýkoli string

  \begin{itemize}
  \tightlist
  \item
    Zkontroluje, že string neobsahuje žádný ze speciálních znaků.
  \end{itemize}
\item
  \texttt{prepare\_data(filename)} - jako parametr bere název souboru

  \begin{itemize}
  \tightlist
  \item
    Postupně pomocí \texttt{load\_information("cards"/"tags")} načte
    všechny kartičky a okruhy z databáze a vytvoří list objektů.
  \item
    Po načtení všeho zavolá funkci
    \texttt{write\_file(filename,\ export\_list)}.
  \end{itemize}
\item
  \texttt{write\_file(filename,\ export\_list)} - jako parametry bere
  název souboru a seznam objektů

  \begin{itemize}
  \tightlist
  \item
    Pro každou položku seznamu vytvoří řádek.
  \item
    Pomocí Node.js balíčku \texttt{fs} vytvoří ve složce
    \texttt{./export/} soubor \texttt{filename.csv}, kam uloží všechny
    vytvořené řádky.
  \end{itemize}
\end{itemize}

\hypertarget{import}{%
\subsubsection{Import}\label{import}}

Funkce, která se spustí po kliknutí na tlačítko s
\texttt{id=import\_button} a které se nachází v navigační liště. Z
\texttt{.csv} souboru načte kartičky a uloží je do databáze.

\begin{itemize}
\tightlist
\item
  \texttt{import\_data()} - nemá žádné parametry

  \begin{itemize}
  \tightlist
  \item
    Zobrazí container s tlačítkem, které zobrazí průzkumníka souborů,
    kde uživatel vybere soubor, který chce importovat.
  \item
    Po kliknutí na tlačítko s \texttt{id=confirm\_import} se přečte
    soubor a pomocí
    \texttt{post\_information("import/",\ process\_data(reader.result))}
    se uloží importovaná data do databáze.
  \end{itemize}
\item
  \texttt{process\_data(text)} - jako parametr je text, který obsahuje
  informace k importu

  \begin{itemize}
  \tightlist
  \item
    Text se rozdělí na řádky, které se pomocí
    \texttt{sort\_tags\_to\_import(entries)} seřadí na karty a okruhy.
  \item
    Vytvoří se JSON objekty karet a okruhů, přičemž se pomocí indexů
    seřazeného listu propojí příslušné okruhy a karty.
  \item
    Vrací to list objektů, které projdou funkcí
    \texttt{filter\_json(result)}.
  \end{itemize}
\item
  \texttt{sort\_tags\_to\_import(entries)} - jako parametr bere seznam
  řádků

  \begin{itemize}
  \tightlist
  \item
    Seřadí je tak, aby se karty a okruhy správně propojily.
  \end{itemize}
\item
  \texttt{filter\_json(json\_list)} - jako parametr bere seznam JSON
  objektů

  \begin{itemize}
  \tightlist
  \item
    Projde seznam a vyfiltruje objekty, které jsou stejné, nebo obsahují
    nepovolená data (např. není tam přední strana kartičky, \ldots{}).
  \end{itemize}
\end{itemize}

\hypertarget{dalux161uxed-funkce}{%
\subsubsection{Další funkce}\label{dalux161uxed-funkce}}

\begin{itemize}
\tightlist
\item
  \texttt{hide\_all()} - skryje úplně vše, kromě navigační lišty (ta
  skrýt nelze).
\item
  \texttt{reset()} - zavolá \texttt{hide\_all()} a zviditelní titulní
  stranu
\item
  \texttt{show\_one\_item(item)} - bere \texttt{id} objektu jako
  argument; zavolá \texttt{hide\_all()} a zobrazí daný objekt
\item
  \texttt{post\_information(suffix,\ data)} - bere příponu za základní
  adresu k serveru, kam se pošle request, a data k odeslání (v JSON
  formátu) jako argumenty; vytvoří \textbf{ajax POST} request
\item
  \texttt{load\_information(suffix)} - bere příponu za základní adresu k
  serveru jako argument; vytvoří \textbf{ajax GET} request a vrátí
  příchozí data
\item
  \texttt{create\_card\_object(type,\ id,\ card\_front,\ card\_back,\ tags)}

  \begin{itemize}
  \tightlist
  \item
    vytvoří string z JSON objektu (kartička) s hodnotami z argumentů
  \end{itemize}
\item
  \texttt{create\_tag\_object(type,\ id,\ tag\_name,\ success\_rate,\ card\_count,\ cards)}

  \begin{itemize}
  \tightlist
  \item
    vytvoří string z JSON objektu (okruh) s hodnotami z argumentů
  \end{itemize}
\end{itemize}

\hypertarget{click-events}{%
\subsubsection{Click events}\label{click-events}}

\begin{itemize}
\tightlist
\item
  Každý \textbf{click event} musí mít za sebou metodu
  \texttt{.unbind()}, jinak by se příkazy sčítaly a po druhém zmáčknutí
  daného tlačítka by se funkce spustila dvakrát a tak dále.
\item
  Uvnitř každého \textbf{click event}u musí být zavolána funkce
  \texttt{event.preventDefault();}. Jelikož tato aplikace používá JQuery
  pro správu kliknutí, je potřeba zabránit HTML, aby se snažilo reagovat
  na kliknutí. Stránka by se obnovila, protože HTML by nevědělo, co
  dělat, a byla by vidět jen titulní strana.
\end{itemize}

\hypertarget{package.json}{%
\subsection{package.json}\label{package.json}}

Soubor popisující aplikaci jako celek. Nalezneme zde název, popis,
autora, licenci, \ldots{} Dále se zde definují scripty, které usnadňují
některé operace jako spouštění z terminálu nebo zabalení aplikace.
Nejdůležitější jsou závislé položky, které se zahrnou do finálního
package.
\clearpage
\input{sources.tex}
\end{document}